{% extends 'shop/navigationbar.html' %}
{% block content %}
  <style>
    /* Define your CSS styles here */
    h1 {
      color: #333;
      font-size: 24px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
    }
    th, td {
      border: 1px solid #ddd;
      padding: 8px;
    }
    th {
      text-align: left;
      background-color: #f2f2f2;
    }
    /* Add more styles as needed */
  </style>

  <h1>Customer List</h1>

  <table>
    <tr>
      <th>Name</th>
      <th>Username</th>
      <th>Address</th>
      <th>Email</th>
      <th>Actions</th> <!-- New column for actions -->
    </tr>
    {% for user in users %}
    <tr>
      <td><b><a href="{% url 'shop:customer_detail' id=user.id %}">{{ user.first_name }} {{ user.last_name }}</a></b></td>
      <td>{{ user.username }}</td>
      <td>{{ user.customer.address }}</td>
      <td>{{ user.email }}</td>
      <td>
        <!-- Edit button -->
          <form action="{% url 'shop:customer_edit' id=user.id %}" method="post" style="display: inline;">
          {% csrf_token %}
          <button type="submit" class="btn btn-danger" >Edit</button>
          </form>
        <!-- Delete button -->
        <form action="{% url 'shop:customer_delete' id=user.id %}" method="post" style="display: inline;">
          {% csrf_token %}
          <button type="submit" class="btn btn-danger" onclick="return confirm('Are you sure you want to delete this customer?')">Delete</button>
        </form>
      </td>
    </tr>
    {% endfor %}
  </table>

{% endblock %}
